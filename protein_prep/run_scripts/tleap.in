source leaprc.protein.ff14SB 
source leaprc.water.tip3p

NAME_apo = loadPDB NAME_apo.pdb 

# solvate box, either octahedral or cube - whichever makes less waters. 
#solvateOct NAME_apo OPCBOX 12.0 # TIP3PBOX 12.0 [old]
solvateBox NAME_apo TIP3PBOX 12.0 # TIP3PBOX 12.0 [old]

# neutralise.
addionsrand NAME_apo Na+ 0 # add positive counterions if overall charge negative (to make neutral)
addionsrand NAME_apo Cl- 0 # add negative counterions if overall charge positive (to make neutral)

savepdb NAME_apo NAME_apo_postleap.pdb # Save a PDB of tleap processed structure.
saveamberparm NAME_apo NAME_apo.prmtop NAME_apo.inpcrd # Save amber params. 
#check NAME_apo # Optional test to look for clashes in structure etc... 
quit 
